<div *ngIf="mode!='none'">
    <div id="content" [@movePanel]='state' class="container sidebar">

        <div (click)="toggleMenu()" class="menuButton">
            <div class="menuButton-text">Details</div>
        </div>


        <div class="contents">
            <div *ngIf="loading > 0">
                <div class="loading">Waiting for Changes</div>
            </div>
            <div class="metrics-container" [ngClass]="{'disable': loading > 0}">
                
                <div class="width-ctrl">

                    <div style="height:5px;"></div>
                    Metric Mode: {{mode}}

                    <br>
                    <div style="height:5px;"></div>

                    <div *ngIf="mode=='Full' || mode=='Aquifer'">
                        <mat-checkbox [checked]="includeCaprock" (change)="toggleCaprock()"><div class="checkbox-text">Include Caprock</div></mat-checkbox>

                        <br>
                        <div style="height:5px;"></div>
                    </div>

                    <!-- add something to check scenario for specific areas rather than currently selected one -->
                    <!-- <h3>Selected Scenario: {{scenario}}</h3> -->

                    <table border="0" class="no-border">
                        <tr class="no-border">
                            <td class="no-border-cell-title">Total Recharge, Baseline:</td>
                            <td class="no-border-cell-description">{{displayMetrics.values.volumetric.original}} {{displayMetrics.units.volumetric}}</td>
                        </tr>
                        <tr class="no-border">
                            <td class="no-border-cell-title">Total Recharge, This Analysis:</td>
                            <td class="no-border-cell-description">{{displayMetrics.values.volumetric.current}} {{displayMetrics.units.volumetric}}</td>
                        </tr>
                    </table>

                    <div style="height:5px;"></div>

                    <table border="0" class="no-border">
                        <tr class="no-border">
                            <td class="no-border-cell-title">Average Recharge, Baseline:</td>
                            <td class="no-border-cell-description">{{displayMetrics.values.average.original}} {{displayMetrics.units.average}}</td>
                        </tr>
                        <tr class="no-border">
                            <td class="no-border-cell-title">Average Recharge, This Analysis:</td>
                            <td class="no-border-cell-description">{{displayMetrics.values.average.current}} {{displayMetrics.units.average}}</td>
                        </tr>
                    </table>

                    <div style="height:5px;"></div>

                    <table border="0" class="no-border">
                        <tr class="no-border">
                            <td class="no-border-cell-title">Area:</td>
                            <td class="no-border-cell-description">{{displayMetrics.values.area}} {{displayMetrics.units.area}}</td>
                        </tr>
                    </table>

                    <div style="height:5px;"></div>

                    <table border="0" class="no-border">
                        <tr class="no-border">
                            <td class="no-border-cell-title">Volumetric Difference:</td>
                            <td class="no-border-cell-description">{{displayMetrics.values.volumetric.diff}} {{displayMetrics.units.volumetric}}</td>
                        </tr>
                        <tr class="no-border">
                            <td class="no-border-cell-title">Volumetric Percent Change:</td>
                            <td class="no-border-cell-description">{{displayMetrics.values.volumetric.pchange}}</td>
                        </tr>
                    </table>

                    <hr>

                    <div style="font-size: 8pt; color: black">Values rounded to 3 significant figures</div>
                    
                </div>
                
                <div #chart> </div>
            </div>
            
            <!-- <div  class="chart-container">
                    <div #chart> </div>
            </div> -->

            </div>

    </div>
</div>